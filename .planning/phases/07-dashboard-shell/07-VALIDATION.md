---
phase: 7
slug: dashboard-shell
status: draft
nyquist_compliant: false
wave_0_complete: false
created: 2026-02-24
---

# Phase 7 — Validation Strategy

> Generated by `gsd-phase-researcher` during `/gsd:plan-phase 7`.
> Updated by `gsd-plan-checker` after plan approval.
> Governs feedback sampling during `/gsd:execute-phase 7`.

---

## Test Infrastructure

| Property | Value |
|----------|-------|
| **Framework** | JUnit5 + MockK + Truth (unit), Turbine + StandardTestDispatcher (flows) |
| **Config file** | `android/build-logic/convention/src/main/kotlin/dqxn.android.feature.gradle.kts` |
| **Quick run command** | `./gradlew :feature:dashboard:testDebugUnitTest --console=plain` |
| **Full suite command** | `./gradlew test --console=plain` |
| **Estimated runtime** | ~30 seconds (dashboard module only) |
| **CI pipeline** | needs creation |

---

## Nyquist Sampling Rate

> The minimum feedback frequency required to reliably catch errors in this phase.

- **After every task commit:** Run `./gradlew :feature:dashboard:testDebugUnitTest --console=plain`
- **After every plan wave:** Run `./gradlew test --console=plain`
- **Before `/gsd:verify-work`:** Full suite must be green
- **Maximum acceptable task feedback latency:** 30 seconds

---

## Per-Task Verification Map

| Task ID | Plan | Wave | Requirement | Test Type | Automated Command | File Exists | Status |
|---------|------|------|-------------|-----------|-------------------|-------------|--------|
| *Populated after planning* | | | | | | | |

*Status values: ⬜ pending · ✅ green · ❌ red · ⚠️ flaky*

---

## Wave 0 Requirements

> Test scaffolding committed BEFORE any implementation task. Executor runs Wave 0 first.

- [ ] `DashboardTestHarness` DSL — shared test infrastructure for coordinator integration
- [ ] Contract test stubs for 6 coordinators
- [ ] `HarnessStateOnFailure` JUnit5 TestWatcher for auto-dumping state on failure

*Detailed file list populated by planner.*

---

## Manual-Only Verifications

> Behaviors that genuinely cannot be automated, with justification.
> These are surfaced during `/gsd:verify-work` UAT.

*None — all previously manual items have been automated or deferred to Phase 12 benchmarking.*

### Reclassified Items

| Behavior | Requirement | Original Status | Resolution |
|----------|-------------|-----------------|------------|
| Foldable viewport / no-straddle snap | NF46 | Manual | **Automated in Plan 06 Task 2.** Mock `ConfigurationBoundaryDetector` fold states, assert `GridPlacementEngine` snap behavior. No `androidx.window.testing` needed — existing MockK pattern for `WindowInfoTracker` is sufficient. |
| Reduced motion transitions | NF39 | Manual | **Automated in Plan 07 Task 2.** Inject `ReducedMotionHelper(isReducedMotion=true)` via `DashboardTestHarness`, assert edit wiggle disabled, add/remove transitions instant, profile pager animation skipped. No system setting change needed — DI controls the flag. |
| 60fps grid rendering with 12+ widgets | NF1 | Manual | **Deferred to Phase 12 (CI Gates + Benchmarking).** Requires `androidx.benchmark.macro` + `FrameTimingMetric` on physical device. Phase 7 provides `graphicsLayer` isolation + viewport culling (structural correctness); Phase 12 provides runtime profiling (performance correctness). |

---

## Validation Sign-Off

Updated by `gsd-plan-checker` when plans are approved:

- [ ] All tasks have `<automated>` verify commands or Wave 0 dependencies
- [ ] No 3 consecutive implementation tasks without automated verify (sampling continuity)
- [ ] Wave 0 test files cover all MISSING references
- [ ] No watch-mode flags in any automated command
- [ ] Feedback latency per task: < 30s ✅
- [ ] `nyquist_compliant: true` set in frontmatter

**Plan-checker approval:** pending

---

## Execution Tracking

Updated during `/gsd:execute-phase 7`:

| Wave | Tasks | Tests Run | Pass | Fail | Sampling Status |
|------|-------|-----------|------|------|-----------------|
| 0 | TBD | — | — | — | scaffold |
| 1 | TBD | TBD | TBD | TBD | ⬜ pending |
| 2 | TBD | TBD | TBD | TBD | ⬜ pending |

**Phase validation complete:** pending
